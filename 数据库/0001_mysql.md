## mysql数据类型
### 整数类型：tinyint,smallint,mediumint,int,bigint。分别表示1字节、2字节、3字节、4字节、8字节。任何整数类型都可以加上unsigned属性，表示数据是无符号类型，即非负整数。
### 实数类型。包括float，double，decimal。decimal可以用于存储比bigint还大的整数，能存储精确的小数。而float和double是有取值范围的，并支持使用标准的浮点进行近似计算。计算时FLOAT和DOUBLE相比DECIMAL效率更高一些，DECIMAL你可以理解成是用字符串进行处理。
### 字符串类型，包括VARCHAR、CHAR、TEXT、BLOBVARCHAR用于存储可变长字符串，它比定长类型更节省空间。VARCHAR使用额外1或2个字节存储字符串长度。列长度小于255字节时，使用1字节表示，否则使用2字节表示。VARCHAR存储的内容超出设置的长度时，内容会被截断。CHAR是定长的，根据定义的字符串长度分配足够的空间。CHAR会根据需要使用空格进行填充方便比较。CHAR适合存储很短的字符串，或者所有值都接近同一个长度。CHAR存储的内容超出设置的长度时，内容同样会被截断。
### 枚举类型（ENUM），把不重复的数据存储为一个预定义的集合。有时可以使用ENUM代替常用的字符串类型。ENUM存储非常紧凑，会把列表值压缩到一个或两个字节。ENUM在内部存储时，其实存的是整数。尽量避免使用数字作为ENUM枚举的常量，因为容易混乱。排序是按照内部存储的整数
### 日期和时间类型，尽量使用timestamp，空间效率高于datetime，用整数保存时间戳通常不方便处理。如果需要存储微妙，可以使用bigint存储。看到这里，这道真题是不是就比较容易回答了。
## mysql索引
### 索引的优缺点
- 优点  
  可以大大加快数据的检索速度，这也是创建索引的最主要的原因。通过使用索引，可以在查询的过程中，使用优化隐藏器，提高系统的性能。
- 缺点  
  时间方面：创建索引和维护索引要耗费时间，具体地，当对表中的数据进行增加、删除和修改的时候，索引也要动态的维护，会降低增/改/删的执行效率；空间方面：索引需要占物理空间。
### 索引的类型：
- 主键索引  
  数据列不允许重复，不允许为NULL，一个表只能有一个主键。
- 唯一索引  
  数据列不允许重复，允许为NULL值，一个表允许多个列创建唯一索引。可以通过 ALTER TABLE table_name ADD UNIQUE (column); 创建唯一索引可以通过 ALTER TABLE table_name ADD UNIQUE (column1,column2); 创建唯一组合索引
- 普通索引  
  基本的索引类型，没有唯一性的限制，允许为NULL值。可以通过ALTER TABLE table_name ADD INDEX index_name (column);创建普通索引可以通过ALTER TABLE table_name ADD INDEX index_name(column1, column2, column3);创建组合索引。
- 全文索引  
  是目前搜索引擎使用的一种关键技术。可以通过ALTER TABLE table_name ADD FULLTEXT (column);创建全文索引
### 索引实现类型：
- BTREE
  n棵子tree的节点包含n个关键字，不用来保存数据而是保存数据的索引。  
  所有的叶子结点中包含了全部关键字的信息，及指向含这些关键字记录的指针，且叶子结点本身依关键字的大小自小而大顺序链接。  
  所有的非终端结点可以看成是索引部分，结点中仅含其子树中的最大（或最小）关键字。  
  B+ 树中，数据对象的插入和删除仅在叶节点上进行。  
  B+树有2个头指针，一个是树的根节点，一个是最小关键码的叶节点。
- HASH
### 索引实现原理
- MyISAM索引实现  
    MyISAM使用B+TREE作为索引结构，叶子节点的data域存放的数据记录地址。MyISAM中索引检索算法为首先按照B+Tree所搜算法搜索索引，如果指定的key存在，则取出data域的值，然后以data域的值为地址，读取相应的数据记录。
- InnoDB索引实现  
    InnoDB也采用B+TREE作为索引结构，单具体实现方式和MyISAM不同。一、InnoDB的数据文件本身就是索引文件，MyISAM索引文件和数据文件是分离的，索引文件仅保存数据记录的地址。在InnoDB中，表数据文件本身就是按照B+Tree阻止的一个索引结构。这种索引及叫做聚集索引。因为InnoDB的数据文件本身要按照主键聚集，所以InnnoDB要求表必须有主键（MyISAM可以没有）。二、InnoDB的辅助索引data域存储相应记录主键的值而不是地址。
## 引擎
### mysql有两种引擎：
- myisam
- innodb
### 引擎的区别：
- InnoDB索引是聚簇索引，MyISAM索引是非聚簇索引。
- InnoDB的主键索引的叶子节点存储着行数据，因此主键索引非常高效。MyISAM索引的叶子节点存储的是行数据地址，需要再寻址一次才能得到数据。
- InnoDB非主键索引的叶子节点存储的是主键和其他带索引的列数据，因此查询时做到覆盖索引会非常高效。
### innodb索引的4大特性
- 插入缓冲(insert buffer)
- 二次写(double write)
- 自适应哈希索引(ahi)
- 预读(read ahead)
    